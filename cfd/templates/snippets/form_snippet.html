{% load filters %}

<div>
{% for fieldset in fieldsets %}
    <fieldset class="module aligned collapse collapsed {{forloop.counter}}-{{fieldset.0}}">
        {% if extra %}
            <h2 class="blank">                
            </h2>
        {% else %}
            <h2> 
                {{ fieldset.0 }} 
            </h2>
        {% endif %}        

        {% for field in fieldset.1.fields %}
            
            {% with field=form|get_field_data:field %}        
                {% if field.name in RETAIL_90_MAIL_RATES_B_LIST %}
                    <div class="row form-row RETAIL_90_MAIL_RATES_B_FIELD fieldWrapper">
                {% elif field.name in RETAIL_90_MAIL_RATES_G_LIST %}
                    <div class="row form-row RETAIL_90_MAIL_RATES_G_FIELD fieldWrapper">
                {% else %}
                    <div class="row form-row fieldWrapper"> <!-- no match in loop, normal row -->
                {% endif %}
                        <div class="col-3">{{ field.label_tag }}</div>
                        <div class="col-9 input-col">
                            {{ field.field }}
                            {% if not last %}
                                <a class="input-copy" href="#" data-target="{{field.field.id_for_label}}" data-index="{{index}}">
                                    (Copy Right)
                                </a>
                            {% else %}
                                <div class="input-copy"></div>
                            {% endif %}

                            {% if field.help_text %}
                                <div class="help">{{ field.help_text|safe }}</div>
                            {% endif %}
                        </div>                        
                    </div>                
            {% endwith %}  

        {% endfor %}
    </fieldset>                                            

{% endfor %}
</div>